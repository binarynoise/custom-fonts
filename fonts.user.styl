/* ==UserStyle==
@name         Custom fonts
@namespace    github.com/vednoc/custom-fonts
@description  Apply custom base font globally.
@author       vednoc <vednoc@pm.me> (https://github.com/vednoc)
@homepageURL  https://github.com/vednoc/global-fonts
@supportURL   https://github.com/vednoc/global-fonts/issues
@preprocessor stylus
@version      0.1.0
@license      MIT

@var text font 'Base font' '"your favorite base font"'
==/UserStyle== */

@-moz-document regexp("https?://.*") {
    i = !important

    // Exclude default code areas.
    n ?= ':not(code):not(pre):not(pre > span):not(code > span)'

    // Exclude icon fonts.
    n += ':not([class^="fa"]):not(.i):not(.icon)'
    n += ':not([class*="octicon-"])' // github
    n += ':not(.glyphicon)' // searx

    // Exclude code areas on GitHub.
    n += ':not([class^="blob-"]):not([class^="blob-"] > span)'

    // Exclude code areas on GitLab.
    n += ':not(.diff-line-num):not(pre > code > span span)'

    // Exclude utility classes for fonts.
    n += ':not(.monospace):not(.text-mono)'

    // Generate.
    { n } {
        font-family: font, serif i
    }
}
